<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Calculadora profesional de Ecocardiograma Doppler Card√≠aco para generaci√≥n de reportes cl√≠nicos">
    <title>Eco Doppler Card√≠aco - Calculadora Profesional</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@500;600&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <div class="container">
        <header class="app-header">
            <div>
                <h1>Eco Doppler Card√≠aco</h1>
                <p class="version">Versi√≥n 14.0 Pro</p>
            </div>
            <div class="voice-controls">
                <button id="btn-voice-toggle" class="btn btn-voice" title="Dictado por voz">
                    <span id="voice-icon">üé§</span>
                    <span id="voice-status">Iniciar Dictado</span>
                </button>
                <div id="voice-indicator" class="voice-indicator" style="display: none;">
                    <span class="pulse-dot"></span> Escuchando...
                </div>
            </div>
        </header>

        <!-- Datos F√≠sicos y Filiaci√≥n -->
        <section class="card">
            <h2 class="section-title">Datos del Paciente</h2>
            <div class="grid">
                <div class="form-group">
                    <label for="paciente_id">HC / ID Paciente</label>
                    <input type="text" id="paciente_id" placeholder="Ej: JP-1234">
                </div>
                <div class="form-group">
                    <label for="edad">Edad (a√±os)</label>
                    <input type="number" id="edad" placeholder="Ej: 65" min="0" max="120">
                </div>
                <div class="form-group">
                    <label for="sexo">Sexo</label>
                    <select id="sexo">
                        <option value="M">Masculino</option>
                        <option value="F">Femenino</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="peso">Peso (kg)</label>
                    <input type="number" id="peso" placeholder="kg" min="20" max="300" step="0.1">
                </div>
                <div class="form-group">
                    <label for="altura">Altura (cm)</label>
                    <input type="number" id="altura" placeholder="cm" min="100" max="250" step="1">
                </div>
                <div class="form-group">
                    <label for="sc_display">Superficie Corporal (m¬≤)</label>
                    <input type="text" id="sc_display" class="calculated-value" disabled>
                </div>
                <div class="form-group">
                    <label for="ventana">Calidad Ventana Ac√∫stica</label>
                    <select id="ventana">
                        <option value="no">Buena</option>
                        <option value="si">Mala Ventana (Limita evaluaci√≥n)</option>
                    </select>
                </div>
            </div>
        </section>

        <!-- VI y Motilidad Parietal -->
        <section class="card">
            <h2 class="section-title">1. Ventr√≠culo Izquierdo y Motilidad</h2>

            <div class="grid">
                <div class="form-group">
                    <label for="siv">Septum (mm)</label>
                    <input type="number" id="siv" value="9" min="5" max="25" step="1">
                </div>
                <div class="form-group">
                    <label for="pp">Pared Posterior (mm)</label>
                    <input type="number" id="pp" value="9" min="5" max="25" step="1">
                </div>
                <div class="form-group">
                    <label for="ddvi">Di√°metro Diast√≥lico (mm)</label>
                    <input type="number" id="ddvi" value="46" min="30" max="75" step="1">
                </div>
                <div class="form-group">
                    <label for="dsvi">Di√°metro Sist√≥lico (mm)</label>
                    <input type="number" id="dsvi" placeholder="Opcional" min="20" max="60" step="1">
                </div>
                <div class="form-group">
                    <label for="fevi">FEy (%) Simpson</label>
                    <input type="number" id="fevi" value="65" min="10" max="100" step="1">
                </div>
            </div>

            <!-- Masa VI Display -->
            <div class="info-banner">
                <div id="masa_info" class="live-calc">
                    <span class="calc-label">Masa VI:</span>
                    <span class="calc-value">-</span>
                </div>
            </div>

            <!-- Ritmo y Conducci√≥n -->
            <div class="grid grid-2col">
                <div class="form-group">
                    <label for="ritmo">Ritmo Card√≠aco</label>
                    <select id="ritmo">
                        <option value="sinusal">Ritmo Sinusal</option>
                        <option value="fa">Fibrilaci√≥n Auricular (FA)</option>
                        <option value="flutter">Aleteo / Flutter Auricular</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="conduccion">Conducci√≥n / QRS</label>
                    <select id="conduccion">
                        <option value="normal">QRS Angosto / Normal</option>
                        <option value="bcri">BCRI (Bloqueo Rama Izq)</option>
                        <option value="bcrd">BCRD (Bloqueo Rama Der)</option>
                        <option value="marcapasos">Marcapasos</option>
                    </select>
                </div>
            </div>

            <!-- Motilidad -->
            <div class="form-group full-width">
                <label for="motilidad_global">Motilidad Parietal Global</label>
                <select id="motilidad_global">
                    <option value="normal">Conservada (Sin alteraciones segmentarias)</option>
                    <option value="hipo_global">Hipocinesia Global (Sin zona focal)</option>
                    <option value="segmentaria">Alteraciones Segmentarias (Infarto/Isquemia)</option>
                </select>
            </div>

            <!-- Motilidad Segmentaria (Hidden by default) -->
            <div id="box_motilidad" class="advanced-box" style="display: none;">
                <h3 class="subsection-title">Detalle Alteraci√≥n Segmentaria</h3>
                <div class="grid grid-2col">
                    <div class="form-group">
                        <label for="mot_territorio">Territorio Arterial</label>
                        <select id="mot_territorio">
                            <option value="da">Territorio DA (Anterior/Septal/Apex)</option>
                            <option value="cd">Territorio CD (Inferior/Inf-Septal)</option>
                            <option value="cx">Territorio Cx (Lateral/Posterior)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="mot_tipo">Tipo de Alteraci√≥n</label>
                        <select id="mot_tipo">
                            <option value="hipocinesia">Hipocinesia Segmentaria</option>
                            <option value="aquinesia">Acinesia/Aquinesia</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- An√°lisis Diast√≥lico -->
            <div class="subsection">
                <h3 class="subsection-title">üß† An√°lisis Diast√≥lico (ASE 2016)</h3>

                <div class="grid">
                    <div class="form-group">
                        <label for="onda_e">Onda E (cm/s)</label>
                        <input type="number" id="onda_e" placeholder="Doppler Mitral" min="20" max="200" step="1">
                    </div>
                    <div class="form-group">
                        <label for="onda_a">Onda A (cm/s)</label>
                        <input type="number" id="onda_a" placeholder="Doppler Mitral" min="10" max="150" step="1">
                    </div>
                    <div class="form-group">
                        <label for="onda_e_prime">e' Promedio (cm/s)</label>
                        <input type="number" id="onda_e_prime" placeholder="TDI Septal+Lateral" min="3" max="25"
                            step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="ea_ratio_display">Relaci√≥n E/A</label>
                        <input type="text" id="ea_ratio_display" class="calculated-value" disabled>
                    </div>
                    <div class="form-group">
                        <label for="ee_ratio_display">Relaci√≥n E/e'</label>
                        <input type="text" id="ee_ratio_display" class="calculated-value" disabled>
                    </div>
                </div>

                <!-- Sem√°foro Diast√≥lico -->
                <div id="diastole_result" class="diastole-badge status-neutral">
                    Esperando datos Doppler...
                </div>
                <input type="hidden" id="diastole_text_hidden">
            </div>
        </section>

        <!-- Aur√≠cula Izquierda -->
        <section class="card">
            <h2 class="section-title">2. Aur√≠cula Izquierda</h2>
            <div class="grid">
                <div class="form-group">
                    <label for="ai_calc_mode">M√©todo de C√°lculo</label>
                    <select id="ai_calc_mode">
                        <option value="auto">Simpson Autom√°tico</option>
                        <option value="lanus">Modo Lan√∫s (Manual)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="vol_ai">Vol. Indexado AI (ml/m¬≤)</label>
                    <input type="number" id="vol_ai" value="28" min="10" max="100" step="1">
                </div>
            </div>

            <!-- Modo Lan√∫s (Hidden by default) -->
            <div id="box_lanus" class="advanced-box" style="display: none;">
                <h3 class="subsection-title">üìê M√©todo √Årea-Longitud Monoplano (Lan√∫s)</h3>
                <p style="font-size: 0.85rem; color: var(--color-text-secondary); margin-bottom: 0.75rem;">
                    F√≥rmula: Vol = (0.85 √ó √Årea¬≤) / Longitud | Vista 4 C√°maras
                </p>
                <div class="grid grid-2col">
                    <div class="form-group">
                        <label for="lanus_area_4c">√Årea 4C (cm¬≤)</label>
                        <input type="number" id="lanus_area_4c" step="0.1" placeholder="Planimetr√≠a AI">
                    </div>
                    <div class="form-group">
                        <label for="lanus_longitud">Longitud (mm)</label>
                        <input type="number" id="lanus_longitud" step="0.1" placeholder="Anillo a techo">
                    </div>
                </div>
                <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem;">
                    <button type="button" class="btn-calc-action" id="btn_calc_lanus">Calcular Volumen AI</button>
                    <button type="button" class="btn-calc-inject" id="btn_inject_lanus">Inyectar Vol. Indexado</button>
                </div>
                <div class="calc-result" id="lanus_result"></div>
            </div>
        </section>

        <!-- V√°lvula Mitral -->
        <section class="card">
            <h2 class="section-title">3. V√°lvula Mitral</h2>
            <div class="grid">
                <div class="form-group grid-span-2">
                    <label for="morf_mitral">Morfolog√≠a</label>
                    <select id="morf_mitral">
                        <option value="Valvas finas y m√≥viles, apertura conservada">Valvas finas y m√≥viles (Normal)
                        </option>
                        <option value="Leve engrosamiento fibroso de las valvas sin restricci√≥n de apertura">Leve
                            engrosamiento fibroso</option>
                        <option value="Calcificaci√≥n del anillo mitral (MAC) sin afectaci√≥n de las valvas">Calcificaci√≥n
                            Anillo (MAC sin afectar valvas)</option>
                        <option value="Calcificaci√≥n del anillo mitral que se extiende a la base de las valvas">MAC
                            extendido a base valvas</option>
                        <option value="Esclerocalcificaci√≥n valvular severa con restricci√≥n de la movilidad">
                            Esclerocalcificaci√≥n Severa</option>
                        <option
                            value="Valvas anat√≥micamente conservadas con Tenting sist√≥lico secundario a dilataci√≥n/remodelado del VI">
                            Funcional (Tenting por VI dilatado)</option>
                        <option value="Degeneraci√≥n mixomatosa leve sin prolapso evidente">Degeneraci√≥n mixomatosa leve
                        </option>
                        <option value="Prolapso de valva posterior (PVP)">Prolapso Valva Posterior (PVP)</option>
                        <option value="Prolapso de valva anterior (PVA)">Prolapso Valva Anterior (PVA)</option>
                        <option value="Prolapso bivalvar">Prolapso Bivalvar</option>
                        <option value="Flail (eversi√≥n) de valva por probable rotura de cuerda tendinosa">Flail (rotura
                            cuerda tendinosa)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="im_grado">Insuficiencia Mitral</label>
                    <select id="im_grado">
                        <option value="no">No significativa</option>
                        <option value="leve">Leve</option>
                        <option value="moderada">Moderada</option>
                        <option value="severa">Severa</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="em_grado">Estenosis Mitral</label>
                    <select id="em_grado">
                        <option value="no">No</option>
                        <option value="leve">Leve</option>
                        <option value="moderada">Moderada</option>
                        <option value="severa">Severa</option>
                    </select>
                </div>
            </div>

            <!-- Caja Avanzada Mitral (Progressive Disclosure) -->
            <div id="box_mitral" class="advanced-box box-mitral" style="display: none;">
                <h3 class="subsection-title">Cuantificaci√≥n Valvular Mitral</h3>

                <!-- Estenosis Mitral -->
                <div id="em_fields" style="display: none;">
                    <h4 style="font-size: 0.9rem; color: #DC2626; margin-bottom: 0.5rem; font-weight: 600;">Estenosis
                        Mitral</h4>
                    <div class="grid grid-2col">
                        <div class="form-group">
                            <label for="em_grad_medio">Gradiente Medio (mmHg)</label>
                            <input type="number" id="em_grad_medio" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="em_area_pht">√Årea por PHT (cm¬≤)</label>
                            <input type="number" id="em_area_pht" step="0.01">
                        </div>
                    </div>
                </div>

                <!-- Insuficiencia Mitral -->
                <div id="im_fields" style="display: none;">
                    <h4 style="font-size: 0.9rem; color: #DC2626; margin-bottom: 0.5rem; font-weight: 600;">
                        Insuficiencia Mitral</h4>
                    <div class="grid">
                        <div class="form-group">
                            <label for="im_vc">Vena Contracta (mm)</label>
                            <input type="number" id="im_vc" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="im_ore">ORE (cm¬≤)</label>
                            <input type="number" id="im_ore" step="0.01" placeholder="PISA">
                        </div>
                        <div class="form-group">
                            <label for="im_vr">Vol. Regurgitante (ml)</label>
                            <input type="number" id="im_vr" step="1" placeholder="PISA">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- V√°lvula A√≥rtica y Aorta -->
        <section class="card">
            <h2 class="section-title">4. V√°lvula A√≥rtica y Aorta</h2>
            <div class="grid">
                <div class="form-group grid-span-2">
                    <label for="morf_aortica">Morfolog√≠a Valvular</label>
                    <select id="morf_aortica">
                        <option value="V√°lvula trivalva, sigmoideas finas y m√≥viles">Trivalva Fina (Normal)</option>
                        <option value="Esclerosis valvular a√≥rtica (engrosamiento focal) sin restricci√≥n de apertura">
                            Esclerosis sin restricci√≥n</option>
                        <option value="Esclerocalcificaci√≥n leve a moderada con apertura conservada">
                            Esclerocalcificaci√≥n leve-moderada</option>
                        <option
                            value="Esclerocalcificaci√≥n valvular severa con restricci√≥n significativa de la apertura">
                            Esclerocalcificaci√≥n Severa (EAo)</option>
                        <option value="Calcificaci√≥n difusa masiva que compromete sigmoideas y anillo a√≥rtico">
                            Calcificaci√≥n difusa masiva</option>
                        <option value="V√°lvula a√≥rtica bic√∫spide con apertura sist√≥lica en domo y rafe medio">Bic√∫spide
                            (apertura en domo)</option>
                        <option value="V√°lvula a√≥rtica bic√∫spide esten√≥tica">Bic√∫spide Esten√≥tica</option>
                        <option
                            value="Falta de coaptaci√≥n central de sigmoideas secundaria a dilataci√≥n de la ra√≠z a√≥rtica">
                            IAo por dilataci√≥n ra√≠z</option>
                        <option value="Prolapso de sigmoidea (flail/eversi√≥n) hacia el tracto de salida">Prolapso
                            sigmoidea (flail)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="ea_grado">Estenosis A√≥rtica</label>
                    <select id="ea_grado">
                        <option value="no">No</option>
                        <option value="leve">Leve</option>
                        <option value="moderada">Moderada</option>
                        <option value="severa">Severa</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="ia_grado">Insuficiencia A√≥rtica</label>
                    <select id="ia_grado">
                        <option value="no">No</option>
                        <option value="leve">Leve</option>
                        <option value="moderada">Moderada</option>
                        <option value="severa">Severa</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="ao_raiz">Ra√≠z A√≥rtica (mm)</label>
                    <input type="number" id="ao_raiz" placeholder="Ej: 32" min="20" max="60" step="1">
                </div>
                <div class="form-group">
                    <label for="ao_asc">Ao. Ascendente (mm)</label>
                    <input type="number" id="ao_asc" placeholder="Ej: 34" min="20" max="70" step="1">
                </div>
            </div>

            <!-- Aortic Indexation Display -->
            <div class="info-banner">
                <div id="aorta_info" class="live-calc">
                    <span class="calc-label">Aorta Indexada:</span>
                    <span class="calc-value">-</span>
                </div>
            </div>

            <!-- Caja Avanzada Aorta (Progressive Disclosure) -->
            <div id="box_aorta" class="advanced-box box-aorta" style="display: none;">
                <h3 class="subsection-title">Cuantificaci√≥n Valvular A√≥rtica</h3>

                <!-- Estenosis A√≥rtica -->
                <div id="ea_fields" style="display: none;">
                    <h4 style="font-size: 0.9rem; color: #FD7E14; margin-bottom: 0.5rem; font-weight: 600;">Estenosis
                        A√≥rtica</h4>
                    <div class="grid">
                        <div class="form-group">
                            <label for="ea_vmax">Vmax (m/s)</label>
                            <input type="number" id="ea_vmax" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="ea_grad_medio">Gradiente Medio (mmHg)</label>
                            <input type="number" id="ea_grad_medio" step="1">
                        </div>
                        <div class="form-group">
                            <label for="ea_ava">AVA (cm¬≤)</label>
                            <input type="number" id="ea_ava" step="0.01" placeholder="Continuidad">
                        </div>
                        <div class="form-group">
                            <label for="ea_ava_index">AVA Index (cm¬≤/m¬≤)</label>
                            <input type="number" id="ea_ava_index" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="ea_coef">Coef. Adimensional</label>
                            <input type="number" id="ea_coef" step="0.01" placeholder="VTI ratio">
                        </div>
                    </div>
                </div>

                <!-- Insuficiencia A√≥rtica -->
                <div id="ia_fields" style="display: none;">
                    <h4 style="font-size: 0.9rem; color: #FD7E14; margin-bottom: 0.5rem; font-weight: 600;">
                        Insuficiencia A√≥rtica</h4>
                    <div class="grid grid-2col">
                        <div class="form-group">
                            <label for="ia_jet_ratio">Jet/TSVI (%)</label>
                            <input type="number" id="ia_jet_ratio" step="1">
                        </div>
                        <div class="form-group">
                            <label for="ia_pht">PHT (ms)</label>
                            <input type="number" id="ia_pht" step="1">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Cavidades Derechas y Pericardio -->
        <section class="card">
            <h2 class="section-title">5, 6 & 7. Cavidades Derechas y Pericardio</h2>
            <div class="grid">
                <div class="form-group">
                    <label for="ad_estado">Aur√≠cula Derecha</label>
                    <select id="ad_estado">
                        <option value="normal">Normal</option>
                        <option value="dilatada">Dilatada</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="vd_estado">Ventr√≠culo Derecho</label>
                    <select id="vd_estado">
                        <option value="normal">Normal</option>
                        <option value="dilatado">Dilatado</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="tapse">TAPSE (mm)</label>
                    <input type="number" id="tapse" value="22" min="5" max="40" step="1">
                </div>
                <div class="form-group">
                    <label for="s_prima_vd">S' VD (cm/s)</label>
                    <input type="number" id="s_prima_vd" placeholder="Tissue Doppler" min="5" max="25" step="0.1">
                </div>
                <div class="form-group">
                    <label for="vel_it">Vel. Max IT (m/s)</label>
                    <input type="number" id="vel_it" value="1.5" min="0.5" max="5" step="0.1">
                </div>
                <div class="form-group">
                    <label for="pad">PAD (mmHg)</label>
                    <input type="number" id="pad" value="5" min="0" max="20" step="1">
                </div>
                <div class="form-group">
                    <label for="it_grado">Insuficiencia Tric√∫spide</label>
                    <select id="it_grado">
                        <option value="leve">Leve</option>
                        <option value="moderada">Moderada</option>
                        <option value="severa">Severa</option>
                    </select>
                </div>
            </div>

            <!-- AD Measurement Box (Progressive Disclosure) -->
            <div id="box_ad" class="advanced-box" style="display: none;">
                <h3 class="subsection-title">Medici√≥n Aur√≠cula Derecha</h3>
                <div class="grid grid-2col">
                    <div class="form-group">
                        <label for="ad_area">√Årea 4C (cm¬≤)</label>
                        <input type="number" id="ad_area" placeholder="‚â§18 normal" min="5" max="40" step="0.1">
                    </div>
                </div>
            </div>

            <!-- VD Measurement Box (Progressive Disclosure) -->
            <div id="box_vd" class="advanced-box" style="display: none;">
                <h3 class="subsection-title">Medici√≥n Ventr√≠culo Derecho</h3>
                <div class="grid grid-2col">
                    <div class="form-group">
                        <label for="vd_basal">Di√°metro Basal (mm)</label>
                        <input type="number" id="vd_basal" placeholder="‚â§41 normal" min="20" max="70" step="1">
                    </div>
                </div>
            </div>

            <!-- Signos Indirectos HTP -->
            <div class="subsection">
                <h3 class="subsection-title">Signos Indirectos de HTP</h3>
                <div class="grid grid-2col">
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                            <input type="checkbox" id="htp_septum" style="width: auto;">
                            <span>Movimiento septal paradojal (D-Shape)</span>
                        </label>
                    </div>
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                            <input type="checkbox" id="htp_pulmonar" style="width: auto;">
                            <span>Dilataci√≥n tronco pulmonar</span>
                        </label>
                    </div>
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                            <input type="checkbox" id="htp_aceleracion" style="width: auto;">
                            <span>Tiempo aceleraci√≥n pulmonar corto</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- PSAP Display -->
            <div class="info-banner">
                <div id="psap_info" class="live-calc">
                    <span class="calc-label">PSAP Estimada:</span>
                    <span class="calc-value">-</span>
                </div>
            </div>
        </section>

        <!-- Mini Calculadoras -->
        <section class="card">
            <h2 class="section-title">üßÆ Calculadoras Hemodin√°micas</h2>

            <!-- Ecuaci√≥n de Continuidad -->
            <div class="mini-calc-container">
                <button type="button" class="calc-toggle-btn" id="toggle_continuidad">
                    ‚ñ∂ Ecuaci√≥n de Continuidad (AVA)
                </button>
                <div id="calc_continuidad" class="mini-calc-box" style="display: none;">
                    <div class="mini-calc-grid">
                        <div class="form-group">
                            <label for="cont_diam_tsvi">Di√°metro TSVI (mm)</label>
                            <input type="number" id="cont_diam_tsvi" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="cont_vti_tsvi">VTI TSVI (cm)</label>
                            <input type="number" id="cont_vti_tsvi" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="cont_vti_ao">VTI Ao (cm)</label>
                            <input type="number" id="cont_vti_ao" step="0.1">
                        </div>
                    </div>
                    <div class="calc-result" id="cont_result"></div>
                    <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem;">
                        <button type="button" class="btn-calc-action" id="btn_calc_continuidad">Calcular AVA</button>
                        <button type="button" class="btn-calc-inject" id="btn_inject_ava">Inyectar en Aorta</button>
                    </div>
                </div>
            </div>

            <!--PISA -->
            <div class="mini-calc-container">
                <button type="button" class="calc-toggle-btn" id="toggle_pisa">
                    ‚ñ∂ PISA (Cuantificaci√≥n IM)
                </button>
                <div id="calc_pisa" class="mini-calc-box" style="display: none;">
                    <div class="mini-calc-grid">
                        <div class="form-group">
                            <label for="pisa_radio">Radio PISA (mm)</label>
                            <input type="number" id="pisa_radio" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="pisa_valiasing">V Aliasing (cm/s)</label>
                            <input type="number" id="pisa_valiasing" step="1" value="40">
                        </div>
                        <div class="form-group">
                            <label for="pisa_vmax">Vmax IM (m/s)</label>
                            <input type="number" id="pisa_vmax" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="pisa_vti">VTI IM (cm)</label>
                            <input type="number" id="pisa_vti" step="0.1">
                        </div>
                    </div>
                    <div class="calc-result" id="pisa_result"></div>
                    <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem;">
                        <button type="button" class="btn-calc-action" id="btn_calc_pisa">Calcular ORE/VR</button>
                        <button type="button" class="btn-calc-inject" id="btn_inject_pisa">Inyectar en Mitral</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quality Control Box -->
        <section class="card">
            <div id="qc_box" class="qc-box">
                <h3 style="margin-bottom: 0.5rem; font-size: 1rem; font-weight: 700;">‚ö†Ô∏è Control de Calidad</h3>
                <div id="qc_alerts"></div>
            </div>
        </section>

        <!-- Botones de Acci√≥n -->
        <section class="action-buttons">
            <button id="btn_reset" class="btn btn-secondary">
                <span>üóëÔ∏è</span> BORRAR TODO
            </button>
            <button id="btn_generate" class="btn btn-primary">
                <span>üìã</span> GENERAR INFORME
            </button>
            <button id="btn_copy" class="btn btn-success">
                <span>üìÑ</span> COPIAR INFORME
            </button>
            <button id="btn_dataset" class="btn btn-info">
                <span>üìä</span> COPIAR DATASET
            </button>
        </section>

        <!-- √Årea de Resultado -->
        <section class="card">
            <h2 class="section-title">Informe Generado</h2>
            <textarea id="resultado" class="report-output"
                placeholder="El informe compacto se generar√° aqu√≠...&#10;&#10;Complete los datos del paciente y presione 'GENERAR INFORME'"></textarea>
        </section>

        <footer class="app-footer">
            <p>Calculadora Ecodoppler Card√≠aco v14.0 Pro | F√≥rmulas ASE/EACVI 2016</p>
        </footer>
    </div>

    <!-- JavaScript Modules -->
    <script src="js/hemodynamics.js"></script>
    <script src="js/validator.js"></script>
    <script src="js/mini-calculators.js"></script>
    <script src="js/quality-control.js"></script>
    <script src="js/ui-controller.js"></script>
    <script src="js/ui-extensions.js"></script>
    <script src="js/ui-lanus.js"></script>
    <script src="js/ui-aorta-display.js"></script>
    <script src="js/voice-recognition.js"></script>
    <script src="app.js"></script>

</body>

</html>